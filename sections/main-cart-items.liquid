{% schema %}
{ "name": "Cart Items" }
{% endschema %}

<div class="container my-4">
  {% if cart.item_count == 0 %}
    <div class="text-center py-5">
      <h2>Your cart is empty</h2>
      <a href="{{ routes.all_products_collection_url }}" class="btn btn-outline-primary mt-3"> Continue shopping </a>
    </div>
  {% else %}
    <form action="{{ routes.cart_url }}" method="post" id="cart">
      <div class="table-responsive mb-4">
        <table class="table align-middle">
          <thead class="table-light">
            <tr>
              <th scope="col">Product</th>
              <th scope="col">Price</th>
              <th scope="col">Quantity</th>
              <th scope="col">Total</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    {% if item.image %}
                      <img
                        src="{{ item.image | image_url: width: 100 }}"
                        alt="{{ item.product.title }}"
                        class="img-thumbnail me-3"
                        width="80"
                        height="80"
                      >
                    {% endif %}
                    <div>
                      <a href="{{ item.url }}" class="text-decoration-none">
                        {{ item.product.title }}
                        {% unless item.variant.title == 'Default Title' %}â€”{{ item.variant.title }}{% endunless %}
                      </a>
                    </div>
                  </div>
                </td>
                <td>{{ item.final_line_price | divided_by: item.quantity | money }}</td>
                <td>
                  <input
                    type="number"
                    name="updates[]"
                    value="{{ item.quantity }}"
                    min="0"
                    class="form-control w-auto"
                    style="max-width:80px;"
                  >
                </td>
                <td>{{ item.final_line_price | money }}</td>
                <td>
                  <a
                    href="{{ item.url_to_remove }}"
                    class="btn btn-link text-danger p-0"
                  >
                    Remove
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <button type="submit" class="btn btn-primary">Update cart</button>
    </form>
  {% endif %}
</div>
